@mixin col-image-width($width, $widthMobile) {
  flex: 0 0 $widthMobile;
  max-width: $widthMobile;

  @include media-breakpoint-up(lg) {
    flex: 0 0 $width;
    max-width: $width;
  }
}

// Product Listing Section
.product-listing {
  position: relative;
  overflow: hidden;
  padding-top: 2.5rem;
  padding-left: 1.25rem;
  padding-right: 1.25rem;
  background-image: linear-gradient(to top, $body-bg, $body-bg 9.375rem, $lightGreen 9.375rem, $lightGreen 100%);

  @include media-breakpoint-up(lg) {
    padding-top: 3.125rem;
    padding-left: 3.125rem;
    padding-right: 3.125rem;
    background-image: linear-gradient(to top, $body-bg, $body-bg 15.625rem, $lightGreen 15.625rem, $lightGreen 100%);
  }

  .container {
    @include media-breakpoint-up(sm) {
      max-width: 100%;
    }

    @include media-breakpoint-up(xl) {
      max-width: 85.625rem;
    }

    @include media-breakpoint-up(xxl) {
      max-width: 98.125rem;
    }
  }

  .bg-image {
    @include aspect-ratio(1, 1);
    @include center(horizontal);

    top: 5.625rem;
    width: calc(100% + 1.5rem);
    max-width: 75rem;
    background-repeat: no-repeat;
    background-position: 50%;
    background-size: cover;

    @include media-breakpoint-up(lg) {
      top: 3.125rem;
      width: calc(100% - 15rem);
    }
  }
}

// Product Header Section
.product-header {
  &-actionbox {
    padding-top: 1.25rem;
    padding-bottom: 1.25rem;

    @include media-breakpoint-up(lg) {
      padding-top: 15px;
      padding-bottom: 15px;
    }
  }

  &-title {
    margin-bottom: 0;

    @include media-breakpoint-up(lg) {
      margin-bottom: -1.25rem;
    }
  }

  &>.container {
    @include media-breakpoint-up(lg) {
      max-width: calc(100% - 3.75rem);
    }

    @include media-breakpoint-up(xl) {
      max-width: 75.625rem;
    }

    @include media-breakpoint-up(xxl) {
      max-width: 90.625rem;
    }
  }

  .btn:not(.btn-icon) {
    border-radius: 1.25rem;
  }

  .btn-clear {
    color: $body-color;
    font-size: 0.875rem;
    font-weight: 300;
    letter-spacing: 0.44px;
    line-height: 1.875rem;
    text-decoration: underline;
    text-transform: none;
  }

  .btn.btn-primary.js-filter-close {
    min-width: 12.8125rem;
    max-width: 12.8125rem;
  }

  .product-breadcrumbs {

    >a {
      margin: 0 6px;

      @include media-breakpoint-up(lg){
        margin: 0 8px;
      }

      // &:first-child {
      //   @include media-breakpoint-up(lg) {
      //     margin-left: 0;
      //   }
      // }

      &:hover {
        text-decoration: none;
      }
    }

    .breadcrumb {
      @include media-breakpoint-up(lg) {
        margin-left: 0.4375rem;
      }
    }

    .btn-sm {
      min-width: 100px;
      width: auto;
      margin-bottom: 16px;

      @include media-breakpoint-up(lg) {
        margin-bottom: 10px;
        margin-top: 10px;
      }
    }
  }

  .product-filter-toggle {
    .js-filter-toggle {
      font-size: 0.8125rem;
      font-weight: 500;
      letter-spacing: 1.86px;
      line-height: 1.5625rem;
      cursor: pointer;

      @include media-breakpoint-up(lg) {
        margin-right: 1.125rem;
      }

      button {
        margin-left: 1.5625rem;
      }
    }
  }
}

// Product
.products {
  margin-left: -0.7813rem;
  margin-right: -0.7813rem;

  @include media-breakpoint-up(lg) {
    margin-left: -1.5625rem;
    margin-right: -1.5625rem;
  }
}

.product {
  position: relative;
  width: 100%;
  padding-left: 0.7813rem;
  padding-right: 0.7813rem;
  margin-bottom: 1.25rem;

  @include media-breakpoint-up(lg) {
    padding-left: 1.5625rem;
    padding-right: 1.5625rem;
    margin-bottom: 3.125rem;
  }

  a {

    &:hover,
    &:focus {
      text-decoration: none;
    }
  }

  &-image {
    @include aspect-ratio(1330, 1995);

    margin-bottom: 0;
    border-radius: 0.3125rem;

    img {
      z-index: 1;
    }

    .visible-on-hover {
      z-index: 0;
    }
  }

  &:hover {
    .product-image {
      .visible-on-hover {
        z-index: 1;
      }
    }
  }

  &-wrapper {
    position: relative;
    border-radius: 0.3125rem;
  }

  &-status {
    position: absolute;
    top: 0.9375rem;
    right: 0;
    z-index: 2;
    min-width: 75px;
    padding: 0.25rem 0.75rem;
    font-size: 0.6875rem;
    letter-spacing: 1.86px;
    line-height: 0.8125rem;
    border-top-left-radius: 0.1875rem;
    border-bottom-left-radius: 0.1875rem;

    @include media-breakpoint-up(lg) {
      top: 1.375rem;
      padding: 0.375rem 1.125rem;
      font-size: 0.8125rem;
      line-height: 0.9375rem;
    }
  }

  &-details {
    position: absolute;
    bottom: 0.3125rem;
    z-index: 1;
    padding: 0.0625rem 6px 0;
    max-width: calc(100% - 2.25rem);
    min-width: calc(100% - 2.25rem);
    color: $body-color;
    border-radius: 0.3125rem;

    @include center(horizontal);

    @include media-breakpoint-up(sm) {
      bottom: 0.9375rem;
      min-width: 8.75rem;
      max-width: calc(100% - 3.25rem);
    }

    @include media-breakpoint-up(lg) {
      bottom: 1.375rem;
      padding: 0.3125rem 0.375rem 0.125rem;
      min-width: 8.75rem;
      max-width: calc(100% - 5.625rem);
    }

    @include media-min(71.25rem) {
      min-width: 10.9375rem;
    }

    &:hover {
      color: $body-color;
    }
  }

  &-name {
    margin-bottom: 0;
    font-size: 0.75rem;
    letter-spacing: 0.5px;
    text-transform: none;
    text-overflow: ellipsis;
    overflow: hidden;
    white-space: nowrap;

    @include media-breakpoint-up(lg) {
      font-size: 0.8125rem;
      letter-spacing: 1.5px;
    }
  }

  &-price {
    margin-top: -0.4375rem;
    font-size: 0.6875rem;
    font-weight: $font-weight-normal;
    letter-spacing: 0.25px;

    @include media-min(23.4375rem) {
      font-size: 0.75rem;
      letter-spacing: 0.5px;
    }

    @include media-breakpoint-up(lg) {
      margin-top: -0.25rem;
      font-size: 0.8125rem;
      letter-spacing: 1.86px;
    }
  }

  // Size Modifiers
  &.is-big {
    @include col-image-width(33.333333%, 50%);
  }

  &.is-small {
    @include col-image-width(25%, 50%);
  }

  // Product Status Modifiers
  &.is-sale {
    .product-status {
      background-color: $saleColor;
      color: $white;
    }

    .product-price {
      color: $red;
      text-overflow: ellipsis;
      overflow: hidden;
      white-space: nowrap;

      span {
        margin-right: 0.3125rem;
        color: $body-color;
        text-decoration: line-through;

        @include media-breakpoint-up(lg) {
          margin-right: 1.25rem;
        }
      }
    }
  }

  &.is-oos {
    .product-status {
      background-color: $oosColor;
      color: $white;
    }

    .product-image {
      opacity: 0.5;
    }
  }
}
